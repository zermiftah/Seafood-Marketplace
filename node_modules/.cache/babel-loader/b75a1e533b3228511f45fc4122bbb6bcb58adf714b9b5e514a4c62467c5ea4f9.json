{"ast":null,"code":"import axios from\"axios\";import{useEffect,useState}from\"react\";import SplashPhoto from\"../../Assets/img/SplashPhoto.png\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function MainPage(){const[data,setData]=useState([]);const[updating,setUpdating]=useState(false);useEffect(()=>{const fetchData=async()=>{try{setUpdating(true);const response=await axios.get(\"https://seafood-marketplace-backend.glitch.me/data\");setData(response.data);}catch(error){console.error(\"Error fetching data:\",error);}finally{setUpdating(false);}};fetchData();},[]);const categorizedData={\"New Arrival\":data.filter(product=>product.Categories===\"New Arrival\"),Discount:data.filter(product=>product.Categories===\"Discount\")};const renderProductList=products=>/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 grid grid-cols-2 gap-x-4 gap-y-10 sm:gap-x-6 md:grid-cols-4 md:gap-y-0 lg:gap-x-8\",children:products.slice(0,4).map(product=>{const discountedPrice=product.Categories===\"Discount\"?product.Product_Price-product.Product_Price*product.Discount/100:null;return/*#__PURE__*/_jsxs(\"div\",{className:\"group relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-56 w-full overflow-hidden rounded-md bg-gray-200 group-hover:opacity-75 lg:h-72 xl:h-80\",children:/*#__PURE__*/_jsx(\"img\",{src:product.Product_Image,alt:product.Product_Name,className:\"h-full w-full object-cover object-center\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-4 text-sm text-gray-700\",children:/*#__PURE__*/_jsxs(\"a\",{href:`/DetailProduct?product_name=${encodeURIComponent(product.Product_Name)}`,children:[/*#__PURE__*/_jsx(\"span\",{className:\"absolute inset-0\"}),product.Product_Name]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:[product.Product_Category,product.Categories===\"Discount\"&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-xs font-medium text-red-500\",children:[\"-\",product.Discount,\"%\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm font-medium text-gray-900\",children:product.Categories===\"Discount\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"line-through text-gray-500 mr-2\",children:[\"$\",product.Product_Price.toFixed(2)]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",discountedPrice.toFixed(2)]})]}):`$${product.Product_Price.toFixed(2)}`})]},product.Product_Name);})});return/*#__PURE__*/_jsxs(_Fragment,{children:[updating&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed top-0 left-0 w-full h-full flex items-center justify-center bg-black bg-opacity-50 z-50\",children:/*#__PURE__*/_jsx(\"img\",{className:\"max-h-28 w-auto animate-bounce animate-infinite\",src:SplashPhoto,alt:\"Your Company\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto max-w-2xl px-4 py-6 sm:px-6  lg:max-w-7xl lg:px-8\",children:[Object.entries(categorizedData).map(_ref=>{let[category,products]=_ref;return products.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:flex md:items-center md:justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold tracking-tight text-gray-900\",children:category}),/*#__PURE__*/_jsxs(\"a\",{href:`/ProductList?recommended=${encodeURIComponent(category)}`,className:`hidden text-sm font-medium ${category==='New Arrival'||category==='Discount'?'text-blue-600 hover:text-indigo-500':'text-gray-600 hover:text-gray-800'} md:block`,children:[category==='New Arrival'||category==='Discount'?'See All':'Explore',/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\" \\u2192\"})]})]}),renderProductList(products)]},category);}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 text-sm md:hidden\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"/ProductList\",className:\"font-medium text-blue-600 hover:text-indigo-500\",children:[\"See All Products\",/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\" \\u2192\"})]})})]})})]});}","map":{"version":3,"names":["axios","useEffect","useState","SplashPhoto","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MainPage","data","setData","updating","setUpdating","fetchData","response","get","error","console","categorizedData","filter","product","Categories","Discount","renderProductList","products","className","children","slice","map","discountedPrice","Product_Price","src","Product_Image","alt","Product_Name","href","encodeURIComponent","Product_Category","toFixed","Object","entries","_ref","category","length"],"sources":["C:/Users/IT-MIFTAH/Documents/Seafood-Marketplace/Seafood-Marketplace/src/Components/MainPage/MainPage.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport SplashPhoto from \"../../Assets/img/SplashPhoto.png\"\r\n\r\nexport default function MainPage() {\r\n    const [data, setData] = useState([]);\r\n    const [updating, setUpdating] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                setUpdating(true);\r\n                const response = await axios.get(\"https://seafood-marketplace-backend.glitch.me/data\");\r\n                setData(response.data);\r\n            } catch (error) {\r\n                console.error(\"Error fetching data:\", error);\r\n            } finally {\r\n                setUpdating(false);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, []);\r\n\r\n    const categorizedData = {\r\n        \"New Arrival\": data.filter((product) => product.Categories === \"New Arrival\"),\r\n        Discount: data.filter((product) => product.Categories === \"Discount\"),\r\n    };\r\n\r\n    const renderProductList = (products) => (\r\n        <div className=\"mt-6 grid grid-cols-2 gap-x-4 gap-y-10 sm:gap-x-6 md:grid-cols-4 md:gap-y-0 lg:gap-x-8\">\r\n            {products.slice(0, 4).map((product) => {\r\n                const discountedPrice =\r\n                    product.Categories === \"Discount\"\r\n                        ? product.Product_Price - (product.Product_Price * product.Discount) / 100\r\n                        : null;\r\n\r\n                return (\r\n                    <div key={product.Product_Name} className=\"group relative\">\r\n                        <div className=\"h-56 w-full overflow-hidden rounded-md bg-gray-200 group-hover:opacity-75 lg:h-72 xl:h-80\">\r\n                            <img\r\n                                src={product.Product_Image}\r\n                                alt={product.Product_Name}\r\n                                className=\"h-full w-full object-cover object-center\"\r\n                            />\r\n                        </div>\r\n                        <h3 className=\"mt-4 text-sm text-gray-700\">\r\n                            <a href={`/DetailProduct?product_name=${encodeURIComponent(product.Product_Name)}`}>\r\n                                <span className=\"absolute inset-0\" />\r\n                                {product.Product_Name}\r\n                            </a>\r\n                        </h3>\r\n                        <p className=\"mt-1 text-sm text-gray-500\">\r\n                            {product.Product_Category}\r\n                            {product.Categories === \"Discount\" && (\r\n                                <span className=\"ml-2 text-xs font-medium text-red-500\">\r\n                                    -{product.Discount}%\r\n                                </span>\r\n                            )}\r\n                        </p>\r\n                        <p className=\"mt-1 text-sm font-medium text-gray-900\">\r\n                            {product.Categories === \"Discount\" ? (\r\n                                <>\r\n                                    <span className=\"line-through text-gray-500 mr-2\">\r\n                                        ${product.Product_Price.toFixed(2)}\r\n                                    </span>\r\n                                    <span>${discountedPrice.toFixed(2)}</span>\r\n                                </>\r\n                            ) : (\r\n                                `$${product.Product_Price.toFixed(2)}`\r\n                            )}\r\n                        </p>\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <>\r\n            {updating && (\r\n                <div className=\"fixed top-0 left-0 w-full h-full flex items-center justify-center bg-black bg-opacity-50 z-50\">\r\n                    <img\r\n                        className=\"max-h-28 w-auto animate-bounce animate-infinite\"\r\n                        src={SplashPhoto}\r\n                        alt=\"Your Company\"\r\n                    />\r\n                </div>\r\n            )}\r\n            <div className=\"bg-white\">\r\n                <div className=\"mx-auto max-w-2xl px-4 py-6 sm:px-6  lg:max-w-7xl lg:px-8\">\r\n                    {Object.entries(categorizedData).map(([category, products]) => (\r\n                        products.length > 0 && (\r\n                            <div key={category} className=\"mb-12\">\r\n                                <div className=\"md:flex md:items-center md:justify-between\">\r\n                                    <h2 className=\"text-2xl font-bold tracking-tight text-gray-900\">\r\n                                        {category}\r\n                                    </h2>\r\n                                    <a\r\n                                        href={`/ProductList?recommended=${encodeURIComponent(category)}`}\r\n                                        className={`hidden text-sm font-medium ${category === 'New Arrival' || category === 'Discount' ? 'text-blue-600 hover:text-indigo-500' : 'text-gray-600 hover:text-gray-800'\r\n                                            } md:block`}\r\n                                    >\r\n                                        {category === 'New Arrival' || category === 'Discount' ? 'See All' : 'Explore'}\r\n                                        <span aria-hidden=\"true\"> &rarr;</span>\r\n                                    </a>\r\n                                </div>\r\n                                {renderProductList(products)}\r\n                            </div>\r\n                        )\r\n                    ))}\r\n                    <div className=\"mt-8 text-sm md:hidden\">\r\n                        <a href=\"/ProductList\" className=\"font-medium text-blue-600 hover:text-indigo-500\">\r\n                            See All Products\r\n                            <span aria-hidden=\"true\"> &rarr;</span>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}